CMAKE_MINIMUM_REQUIRED(VERSION 3.1)

IF (NOT CMAKE_BUILD_TYPE OR CMAKE_BUILD_TYPE STREQUAL "")
	SET (CMAKE_BUILD_TYPE "Release" CACHE STRING "" FORCE)
ENDIF()

SET (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -no-pie" CACHE STRING "" FORCE)


PROJECT(JumperBallApplication)

IF(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
	SET(CMAKE_INSTALL_PREFIX ${CMAKE_BINARY_DIR} CACHE PATH "" FORCE)
ENDIF(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)

ADD_SUBDIRECTORY(libs)
ADD_SUBDIRECTORY(coreClasses)
ADD_SUBDIRECTORY(graphicsClasses)
	
SET(CMAKE_CXX_STANDARD 11)
SET(CMAKE_CXX_STANDARD_REQUIRED ON)
SET(CMAKE_CXX_EXTENSIONS OFF)

FILE(GLOB SOURCE_FILES
	${CMAKE_SOURCE_DIR}/main.cpp)

FIND_PACKAGE(OpenGL REQUIRED)


INSTALL (DIRECTORY ${CMAKE_SOURCE_DIR}/maps DESTINATION ${CMAKE_BINARY_DIR})

ADD_EXECUTABLE(${PROJECT_NAME} ${SOURCE_FILES})

INCLUDE_DIRECTORIES(${CMAKE_BINARY_DIR}/libs/GLFW_install/include/)
INCLUDE_DIRECTORIES(${CMAKE_BINARY_DIR}/libs/GLM_install/include/)

LINK_DIRECTORIES(${CMAKE_BINARY_DIR}/libs/GLFW_install/lib/)

TARGET_LINK_LIBRARIES(${PROJECT_NAME} JumperBallGraphic)


