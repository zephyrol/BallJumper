CMAKE_MINIMUM_REQUIRED(VERSION 3.1)


PROJECT(JumperBallGraphic)

SET (CMAKE_CXX_STANDARD 11)
SET (CMAKE_CXX_STANDARD_REQUIRED ON)
SET (CMAKE_CXX_EXTENSIONS OFF)


FILE(GLOB SOURCE_FILES
	${CMAKE_CURRENT_SOURCE_DIR}/*.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/animations/*.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/geometry/*.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/uniformBlocks/*.cpp)

FILE(GLOB HEADER_FILES
	${CMAKE_CURRENT_SOURCE_DIR}/*.h
	${CMAKE_CURRENT_SOURCE_DIR}/animations/*.h
	${CMAKE_CURRENT_SOURCE_DIR}/geometry/*.h
	${CMAKE_CURRENT_SOURCE_DIR}/uniformBlocks/*.h)

FILE(COPY ${CMAKE_CURRENT_SOURCE_DIR}/shaders DESTINATION ${CMAKE_CURRENT_BINARY_DIR})


FIND_PACKAGE(OpenGL REQUIRED)


ADD_LIBRARY(${PROJECT_NAME} ${HEADER_FILES} ${SOURCE_FILES})

ADD_DEPENDENCIES(${PROJECT_NAME} _GLFW_)
ADD_DEPENDENCIES(${PROJECT_NAME} _GLM_)

#SET(GLFW_INCLUDE_DIR "${CMAKE_BINARY_DIR}/libs/GLFW_install/include/")
#SET(GLFW_LIBRARY_DIR "${CMAKE_BINARY_DIR}/libs/GLFW_install/lib/")

INCLUDE_DIRECTORIES(${CMAKE_BINARY_DIR}/libs/GLFW_install/include/)
INCLUDE_DIRECTORIES(${CMAKE_BINARY_DIR}/libs/GLM_install/include/)

LINK_DIRECTORIES(${CMAKE_BINARY_DIR}/libs/GLFW_install/lib/)

MESSAGE( GLFW libraries VALUE : ${GLFW_LIBRARIES})
TARGET_LINK_LIBRARIES(${PROJECT_NAME} ${GLFW_LIBRARIES} glad OpenGL::GL ${CMAKE_DL_LIBS} JumperBallCore )
TARGET_INCLUDE_DIRECTORIES( ${PROJECT_NAME} PUBLIC . )

